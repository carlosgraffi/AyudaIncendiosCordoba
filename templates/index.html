{% extends "base.html" %}

{% block content %}
<div class="container mx-auto px-4">
    <div class="mb-8">
        <h2 class="text-2xl font-bold mb-4">¿Por qué es importante donar a las brigadas?</h2>
        <p class="text-gray-700 dark:text-gray-300 mb-4">
            Las brigadas NO dependen del Estado o del cuerpo de bomberos voluntarios. Son personas que luchan contra la destrucción de nuestro monte de manera totalmente autogestiva e independiente. La donación de dinero en efectivo es una acción concreta que pueden tomar las personas que no se encuentran en las cercanías y ayuda a solventar los insumos de las brigadas que están combatiendo el fuego activamente, hoy y durante toda la temporada de fuegos.
        </p>
    </div>

    <div class="mb-8">
        <input type="text" id="search" placeholder="Buscar brigada por nombre o alias" class="w-full p-2 border border-gray-300 rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white">
    </div>

    <div id="brigades-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
        {% for brigade in brigades %}
        <div class="brigade-card bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
            <h2 class="text-xl font-bold mb-2">{{ brigade.Name }}</h2>
            <p class="text-gray-600 dark:text-gray-400 mb-2">
                Alias: {{ brigade.Alias or 'N/A' }}
            </p>
            <p class="text-gray-600 dark:text-gray-400 mb-2">
                Teléfono: 
                {% if brigade['Phone Number'] %}
                    <a href="https://wa.me/{{ brigade['Phone Number']|replace(' ', '') }}" target="_blank" class="text-blue-500 hover:underline">{{ brigade['Phone Number'] }}</a>
                {% else %}
                    N/A
                {% endif %}
            </p>
            <p class="text-gray-600 dark:text-gray-400 mb-2">
                Instagram: 
                {% if brigade.Instagram %}
                    <a href="https://www.instagram.com/{{ brigade.Instagram.lstrip('@') }}" target="_blank" class="text-blue-500 hover:underline">{{ brigade.Instagram }}</a>
                {% else %}
                    N/A
                {% endif %}
            </p>
            <p class="text-gray-600 dark:text-gray-400">Facebook: {{ brigade.Facebook or 'N/A' }}</p>
            <button class="mt-4 px-4 py-2 bg-blue-500 text-white rounded copy-alias" data-alias="{{ brigade.Alias }}">Copiar Alias</button>
        </div>
        {% endfor %}
    </div>
</div>

<button id="darkModeToggle" class="fixed bottom-4 right-4 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-white p-2 rounded-full">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
    </svg>
</button>

<script>
    const darkModeToggle = document.getElementById('darkModeToggle');
    const html = document.documentElement;

    darkModeToggle.addEventListener('click', () => {
        html.classList.toggle('dark');
        localStorage.setItem('darkMode', html.classList.contains('dark'));
    });

    // Check for saved dark mode preference
    if (localStorage.getItem('darkMode') === 'true') {
        html.classList.add('dark');
    }
</script>
{% endblock %}
